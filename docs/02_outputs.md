# Terraform Outputs

This document describes the outputs generated by each Terraform module. Outputs provide useful information about provisioned resources and can be consumed by other modules or external systems (e.g. CI/CD, scripts, etc.).

---

## üìÅ Root Module (`env/main.tf`)

These outputs are exposed to consumers of the root module and aggregate outputs from child modules.

| Name                    | Description                                     | Source Module  |
|-------------------------|-------------------------------------------------|----------------|
| `name`                 | The name prefix for resources                   | Variable       |
| `vpc_id`               | The ID of the VPC                               | `vpc`          |
| `public_subnet_id`     | Public subnet ID                                | `vpc`          |
| `private_subnet_a_id`  | Private subnet A ID                             | `vpc`          |
| `private_subnet_b_id`  | Private subnet B ID                             | `vpc`          |
| `bastion_sg_id`        | Security group ID for bastion host              | `networking`   |
| `private_a_sg_id`      | Security group ID for private instance A        | `networking`   |
| `private_b_sg_id`      | Security group ID for private instance B        | `networking`   |
| `ssm_instance_profile_arn` | IAM instance profile ARN for SSM access     | `security`     |
| `bastion_instance_id`  | EC2 instance ID of the bastion host             | `ec2`          |
| `private_a_instance_id`| EC2 instance ID of private instance A           | `ec2`          |
| `private_b_instance_id`| EC2 instance ID of private instance B           | `ec2`          |

---

## üîπ Module: `ec2`

| Name                    | Description                                         |
|-------------------------|-----------------------------------------------------|
| `bastion_instance_id`  | ID of the bastion host instance                     |
| `bastion_public_ip`    | Public IP address of the bastion host               |
| `private_a_instance_id`| ID of private instance A (accessed via bastion)     |
| `private_b_instance_id`| ID of private instance B (accessed via SSM)         |

---

## üîπ Module: `networking`

| Name           | Description                                    |
|----------------|------------------------------------------------|
| `bastion_sg`   | Security Group ID for the bastion host         |
| `private_a_sg` | Security Group ID for private instance A       |
| `private_b_sg` | Security Group ID for private instance B (SSM) |

---

## üîπ Module: `security`

| Name                    | Description                              |
|-------------------------|------------------------------------------|
| `ssm_role_name`         | IAM Role name for SSM                    |
| `ssm_instance_profile_arn` | IAM Instance Profile ARN for SSM     |

---

## üîπ Module: `ssh_key`

| Name           | Description                          |
|----------------|--------------------------------------|
| `key_pair_name`| Name of the generated AWS key pair   |

---

## üîπ Module: `vpc`

| Name                  | Description                                |
|-----------------------|--------------------------------------------|
| `vpc_id`              | The ID of the VPC                          |
| `public_subnet_id`    | Public subnet ID                           |
| `private_subnet_ids`  | List of private subnet IDs                 |
| `nat_gateway_ids`     | List of NAT Gateway IDs                    |

---

> ‚ÑπÔ∏è **Note:** Root module outputs are typically consumed by other Terraform stacks or automation tools. Outputs in child modules are often selectively exposed by the root module to avoid leaking unnecessary implementation details.
